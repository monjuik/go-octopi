<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Crypto Portfolio Dashboard — Mockup</title>

        <!-- Bootstrap CSS & Icons -->
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
            rel="stylesheet"
        />
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
            rel="stylesheet"
        />

        <style>
            body {
                background: #f7f8fa;
            }
            .card {
                border: 0;
                border-radius: 1rem;
            }
            .shadow-sm {
                box-shadow: 0 0.25rem 1rem rgba(0, 0, 0, 0.05) !important;
            }
            .metric-card {
                padding: 2rem 1rem;
            }
            .muted {
                color: #6c757d;
            }
            .wallet-badge {
                font-size: 0.875rem;
            }
            .copy-btn {
                cursor: pointer;
            }
            .table thead th {
                font-weight: 600;
            }
            .container-narrow {
                max-width: 980px;
            }
        </style>
    </head>

    <body>
        <div class="container container-narrow py-4">
            <!-- Header -->
            <div
                class="d-flex flex-wrap justify-content-between align-items-center mb-4 gap-3"
            >
                <h2 class="fw-semibold m-0">Portfolio Dashboard</h2>

                <!-- Toggle EUR / USD -->
                <div
                    class="btn-group"
                    role="group"
                    aria-label="Fiat currency toggle"
                >
                    <input
                        type="radio"
                        class="btn-check"
                        name="fiatMode"
                        id="modeEUR"
                        autocomplete="off"
                        checked
                    />
                    <label class="btn btn-outline-primary" for="modeEUR"
                        ><i class="bi bi-currency-euro me-1"></i>EUR</label
                    >

                    <input
                        type="radio"
                        class="btn-check"
                        name="fiatMode"
                        id="modeUSD"
                        autocomplete="off"
                    />
                    <label class="btn btn-outline-primary" for="modeUSD"
                        ><i class="bi bi-currency-dollar me-1"></i>USD</label
                    >
                </div>
            </div>

            <!-- Wallet Summary -->
            <div class="card mb-4 shadow-sm">
                <div class="card-body">
                    <div
                        class="d-flex justify-content-between align-items-center flex-wrap gap-3"
                    >
                        <div>
                            <div class="d-flex align-items-center gap-2">
                                <img
                                    src="https://cryptologos.cc/logos/solana-sol-logo.png?v=032"
                                    width="24"
                                    height="24"
                                    alt="Solana"
                                />
                                <span
                                    class="wallet-badge badge text-bg-light border"
                                    >Solana Mainnet</span
                                >
                            </div>
                            <h5 class="card-title mb-1 mt-2">Wallet summary</h5>
                            <div class="text-muted small">
                                Updated: 09 Nov 2025 13:40 UTC
                            </div>
                            <div class="small text-muted mt-2">
                                Address: <span id="walletAddr">3k6...tG8Z</span>
                                <i
                                    class="bi bi-clipboard ms-2 copy-btn"
                                    title="Copy address"
                                    onclick="navigator.clipboard.writeText('3k6...tG8Z')"
                                ></i>
                            </div>
                        </div>
                        <div class="text-end">
                            <div id="balanceCrypto" class="fs-5 fw-semibold">
                                12.45 SOL
                            </div>
                            <div id="balanceFiat" class="text-muted">
                                ≈ €2,085
                            </div>
                            <div class="small text-muted">At today’s rate</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Annual Return -->
            <div class="card mb-4 shadow-sm text-center metric-card">
                <h6 class="text-muted m-0">
                    Annual Return
                    <i
                        class="bi bi-question-circle ms-1"
                        data-bs-toggle="tooltip"
                        title="Calculated as XIRR over the last 12 months based on staking rewards and deposits. Always shown in crypto (SOL)."
                    ></i>
                </h6>
                <div
                    id="annualReturn"
                    class="display-5 fw-bold text-success mt-2"
                >
                    8.12%
                </div>
                <div class="small text-muted">Yield in SOL</div>
            </div>

            <!-- Monthly Rewards Chart -->
            <div class="card mb-4 shadow-sm">
                <div class="card-body">
                    <div
                        class="d-flex justify-content-between align-items-center mb-3"
                    >
                        <h6 class="text-muted m-0">
                            Monthly Rewards
                            <i
                                class="bi bi-question-circle ms-1"
                                data-bs-toggle="tooltip"
                                title="Monthly staking rewards and deposits in SOL."
                            ></i>
                        </h6>
                        <div class="small text-muted">Unit: SOL</div>
                    </div>
                    <div id="monthlyChart" style="height: 340px"></div>
                </div>
            </div>

            <!-- Recent Rewards Table -->
            <div class="card shadow-sm">
                <div class="card-body">
                    <div
                        class="d-flex justify-content-between align-items-center mb-3"
                    >
                        <h6 class="text-muted m-0">Recent Rewards</h6>
                        <div
                            class="btn-group btn-group-sm"
                            role="group"
                            aria-label="Rows"
                        >
                            <button class="btn btn-outline-secondary active">
                                Latest 10
                            </button>
                            <button class="btn btn-outline-secondary" disabled>
                                Last 4 weeks
                            </button>
                        </div>
                    </div>
                    <div class="table-responsive">
                        <table class="table table-sm align-middle">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Type</th>
                                    <th class="text-end">Amount (SOL)</th>
                                    <th>Validator</th>
                                    <th>Epoch</th>
                                </tr>
                            </thead>
                            <tbody id="rewardsBody"></tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div class="text-center text-muted small mt-4">
                Mock data for layout preview only.
            </div>
        </div>

        <!-- Bootstrap Bundle (with Popper for tooltips) -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>

        <script>
            document
                .querySelectorAll('[data-bs-toggle="tooltip"]')
                .forEach((el) => new bootstrap.Tooltip(el));

            // Mock data
            const months = ["May", "Jun", "Jul", "Aug", "Sep", "Oct"];
            const dataCrypto = {
                series: [
                    { name: "Rewards", data: [1.2, 0.9, 1.4, 1.1, 1.6, 2.0] },
                    { name: "Deposits", data: [0.5, 0.2, 0.0, 0.3, 0.0, 0.1] },
                ],
                table: [
                    {
                        date: "2025-11-07",
                        type: "Reward",
                        sol: 0.153,
                        validator: "ValidatorXYZ",
                        epoch: 556,
                    },
                    {
                        date: "2025-11-05",
                        type: "Deposit",
                        sol: 1.0,
                        validator: "ValidatorABC",
                        epoch: 555,
                    },
                    {
                        date: "2025-11-02",
                        type: "Reward",
                        sol: 0.149,
                        validator: "ValidatorXYZ",
                        epoch: 555,
                    },
                ],
            };

            // Render rewards table
            function renderTable(rows) {
                const tbody = document.getElementById("rewardsBody");
                tbody.innerHTML = rows
                    .map(
                        (r) => `
          <tr>
            <td>${r.date}</td>
            <td>${r.type}</td>
            <td class="text-end ${r.sol < 0 ? "text-danger" : ""}">${r.sol.toFixed(3)}</td>
            <td>${r.validator}</td>
            <td>${r.epoch}</td>
          </tr>`,
                    )
                    .join("");
            }

            // Chart init
            function initChart() {
                const options = {
                    chart: {
                        type: "bar",
                        height: 340,
                        stacked: true,
                        toolbar: { show: false },
                    },
                    series: dataCrypto.series,
                    xaxis: { categories: months },
                    plotOptions: {
                        bar: { columnWidth: "55%", borderRadius: 6 },
                    },
                    dataLabels: { enabled: false },
                    tooltip: {
                        y: { formatter: (val) => val.toFixed(3) + " SOL" },
                    },
                    legend: { position: "top" },
                };
                const chart = new ApexCharts(
                    document.querySelector("#monthlyChart"),
                    options,
                );
                chart.render();
            }

            // Fiat value toggle logic
            const fiatDisplay = document.getElementById("balanceFiat");
            const rates = { EUR: 167.5, USD: 180.2 }; // Mock rates for demo (per SOL)

            function updateFiatDisplay(currency) {
                const sol = 12.45;
                const value = sol * rates[currency];
                fiatDisplay.textContent =
                    currency === "EUR"
                        ? `≈ €${value.toLocaleString()}`
                        : `≈ $${value.toLocaleString()}`;
            }

            document.addEventListener("DOMContentLoaded", () => {
                renderTable(dataCrypto.table);
                initChart();
                updateFiatDisplay("EUR");

                document
                    .getElementById("modeEUR")
                    .addEventListener("change", (e) => {
                        if (e.target.checked) updateFiatDisplay("EUR");
                    });
                document
                    .getElementById("modeUSD")
                    .addEventListener("change", (e) => {
                        if (e.target.checked) updateFiatDisplay("USD");
                    });
            });
        </script>
    </body>
</html>
